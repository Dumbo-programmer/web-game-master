<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-firestore.js"></script>   
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-auth.js"></script>   
    <title>VS!</title>
  </head>
  <body>
      <div class="container">
        <div class="row">
            <div class="col">
    <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="" id="img" class="img-fluid rounded-start img-thumbnail" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title" id="name"></h5>
             </div>
          </div>
        </div>
      </div>
      </div>
<!--second-->
<div class="col">
    <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="" id="img2" class="img-fluid rounded-start img-thumbnail" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title" id="name2"></h5>
             </div>
          </div>
        </div>
      </div>
      </div>
<!--third-->
<div class="col">
    <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="" id="img3" class="img-fluid rounded-start img-thumbnail" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title" id="name3"></h5>
             </div>
          </div>
        </div>
      </div>
      </div>
<!--fourth-->
<div class="col">
    <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="" id="img4" class="img-fluid rounded-start img-thumbnail" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title" id="name4"></h5>
             </div>
          </div>
        </div>
      </div>
      </div>
<!--5-->
<div class="col">
    <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="" id="img5" class="img-fluid rounded-start img-thumbnail" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title" id="name5"></h5>
             </div>
          </div>
        </div>
      </div>
      </div>
<!--6-->
<div class="col">
    <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="" id="img6" class="img-fluid rounded-start img-thumbnail" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title" id="name6"></h5>
             </div>
          </div>
        </div>
      </div>
      </div>
<!--7-->
<div class="col">
    <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="" id="img7" class="img-fluid rounded-start img-thumbnail" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title" id="name7"></h5>
             </div>
          </div>
        </div>
      </div>
      </div>
<!--8-->
<div class="col">
    <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="" id="img8" class="img-fluid rounded-start img-thumbnail" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title" id="name8"></h5>
             </div>
          </div>
        </div>
      </div>
      </div>

</div>
<h2 stye="text-align: center;">Vs</h2>
<div class="col">
    <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="" id="img0" class="img-fluid rounded-start img-thumbnail" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title" id="name0">You</h5>
             </div>
          </div>
        </div>
      </div>
      </div>
        </div>      

<style>
    @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
body {
  background-color: antiquewhite;
text-align: center;
font-family: 'VT323', monospace;
font-size: 21px;
         }
   .col img{
        width: 92px !important;
    height: 102px !important;
    }
</style>
<script>
    const firebaseConfig = {
        apiKey: "AIzaSyDRFSxiFa5Lq86LA5GhalETIJNFfn5kmnQ",
    authDomain: "game-web-app-b922d.firebaseapp.com",
    projectId: "game-web-app-b922d",
    storageBucket: "game-web-app-b922d.appspot.com",
    messagingSenderId: "734965289853",
    appId: "1:734965289853:web:8ab56fdefe80306b56b214",
    measurementId: "G-QJCFXWCEK8"
    }
    firebase.initializeApp(firebaseConfig);
    var db = firebase.firestore();
    var arr=[];
    db.collection("names")
      .get()
      .then((res) => sessionStorage.setItem('lmao', res.size));

db.collection("names").get().then((querySnapshot) => {
    querySnapshot.forEach((doc) => {
       arr.push(doc.data().name)
//var arr = myArray.indexOf(localStorage.getItem("temp2"))
let myArray = arr.filter((item,index) => arr.indexOf(item) === index)

if(parseInt(sessionStorage.getItem('lmao'))<20){

console.log('yes')


    
localStorage.setItem("ptemp1",arr[0])
localStorage.setItem("ptemp2",arr[1])
localStorage.setItem("ptemp3",arr[2])
localStorage.setItem("ptemp4",arr[3])
localStorage.setItem("ptemp5",arr[4])
localStorage.setItem("ptemp6",arr[5])
localStorage.setItem("ptemp7",arr[6])
localStorage.setItem("ptemp8",arr[7])
did()
}else{
var randomItem = myArray[Math.floor(Math.random()*myArray.length)];

var randomItem2 = myArray[Math.floor(Math.random()*myArray.length)];
var randomItem3 = myArray[Math.floor(Math.random()*myArray.length)];
var randomItem4 = myArray[Math.floor(Math.random()*myArray.length)];
var randomItem5 = myArray[Math.floor(Math.random()*myArray.length)];
var randomItem6 = myArray[Math.floor(Math.random()*myArray.length)];
var randomItem7 = myArray[Math.floor(Math.random()*myArray.length)];
var randomItem8 = myArray[Math.floor(Math.random()*myArray.length)];   

did()
localStorage.setItem("ptemp1",randomItem)
localStorage.setItem("ptemp2",randomItem2)
localStorage.setItem("ptemp3",randomItem3)
localStorage.setItem("ptemp4",randomItem4)
localStorage.setItem("ptemp5",randomItem5)
localStorage.setItem("ptemp6",randomItem6)
localStorage.setItem("ptemp7",randomItem7)
localStorage.setItem("ptemp8",randomItem8)
}

//console.log(randomItem+ randomItem2+ randomItem3 +randomItem4+ randomItem5 +randomItem6+ randomItem7+ randomItem8)



if(localStorage.getItem('temp2') == localStorage.getItem('ptemp2')){
    var random = myArray[Math.floor(Math.random()*myArray.length)];
    localStorage.setItem("ptemp2",random)
}else if(localStorage.getItem('ptemp1') == localStorage.getItem('ptemp3')){
    var random = myArray[Math.floor(Math.random()*myArray.length)];
    localStorage.setItem("ptemp1",random)

}else if(localStorage.getItem('ptemp3') == localStorage.getItem('ptemp2')){
    var random = myArray[Math.floor(Math.random()*myArray.length)];
    localStorage.setItem("ptemp3",random)

}else if(localStorage.getItem('ptemp2') == localStorage.getItem('ptemp1')){
    var random = myArray[Math.floor(Math.random()*myArray.length)];
    localStorage.setItem("ptemp2",random)

}

if(localStorage.getItem('temp2') == localStorage.getItem('ptemp1')){
    var random = myArray[Math.floor(Math.random()*myArray.length)];
    localStorage.setItem("ptemp1",random)
}else if(localStorage.getItem('temp2') == localStorage.getItem('ptemp3')){
    var random = myArray[Math.floor(Math.random()*myArray.length)];
    localStorage.setItem("ptemp3",random)
}
if(localStorage.getItem('temp2') == localStorage.getItem('ptemp3')){
    var random = myArray[Math.floor(Math.random()*myArray.length)];
    localStorage.setItem("ptemp3",random)
}
if(localStorage.getItem('temp2') == localStorage.getItem('ptemp2')){
    var random = myArray[Math.floor(Math.random()*myArray.length)];
    localStorage.setItem("ptemp2",random)
}
if(localStorage.getItem('temp2') == localStorage.getItem('ptemp1')){
    var random = myArray[Math.floor(Math.random()*myArray.length)];
    localStorage.setItem("ptemp1",random)
}
    });
})

function did(){
document.getElementById('name').innerText = localStorage.getItem('ptemp1')
document.getElementById('name2').innerText = localStorage.getItem('ptemp2')
document.getElementById('name3').innerText = localStorage.getItem('ptemp3')
document.getElementById('name4').innerText = localStorage.getItem('ptemp4')
document.getElementById('name5').innerText = localStorage.getItem('ptemp5')
document.getElementById('name6').innerText = localStorage.getItem('ptemp6')
document.getElementById('name7').innerText = localStorage.getItem('ptemp7')
document.getElementById('name8').innerText = localStorage.getItem('ptemp8')

db.collection('names').doc(localStorage.getItem('ptemp1')).get().then((doc) => {
document.getElementById('img').src = '../'+doc.data().profilepic
})
db.collection('names').doc(localStorage.getItem('ptemp2')).get().then((doc) => {
document.getElementById('img2').src = '../'+doc.data().profilepic
})
db.collection('names').doc(localStorage.getItem('ptemp3')).get().then((doc) => {
document.getElementById('img3').src = '../'+doc.data().profilepic
})
db.collection('names').doc(localStorage.getItem('ptemp4')).get().then((doc) => {
document.getElementById('img4').src = '../'+doc.data().profilepic
})
db.collection('names').doc(localStorage.getItem('ptemp5')).get().then((doc) => {
document.getElementById('img5').src = '../'+doc.data().profilepic
})
db.collection('names').doc(localStorage.getItem('ptemp6')).get().then((doc) => {
document.getElementById('img6').src = '../'+doc.data().profilepic
})
db.collection('names').doc(localStorage.getItem('ptemp7')).get().then((doc) => {
document.getElementById('img7').src = '../'+doc.data().profilepic
})
db.collection('names').doc(localStorage.getItem('ptemp8')).get().then((doc) => {
document.getElementById('img8').src = '../'+doc.data().profilepic
})
}
if(localStorage.getItem('profilepic')<10){
document.getElementById('img0').src="../Concept_warrior_0"+localStorage.getItem('profilepic')+'.png'
}
else{
    document.getElementById('img0').src="../Concept_warrior_"+localStorage.getItem('profilepic')+'.png'
   
}

setTimeout(function(){
window.location = "poker.html"
}, 7000)
</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </body>
</html>
